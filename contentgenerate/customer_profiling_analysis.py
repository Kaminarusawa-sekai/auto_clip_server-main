

from langchain_community.llms.tongyi import Tongyi
from langchain.chains import LLMChain
from langchain.prompts import PromptTemplate


import dashscope
import datetime

DASHSCOPE_API_KEY="sk-a48a1d84e015410292d07021f60b9acb"
import os
os.environ["DASHSCOPE_API_KEY"] = DASHSCOPE_API_KEY

from contentgenerate import llm_base
# import llm_base







def get_custom_profiling_anaysis(product_name,product_description):
    template='''

        ###背景：
        你是一位专业的客户群体分析师，擅长通过分析产品客户画像，并且结合产品竞品深入分析客户画像的客户群体分析师，
        我有一款名字是{product_name}的产品，这款产品专注于{product_description}，旨在满足特定用户的需求。了解该产品的目标客户群体对于制定有效的市场营销策略至关重要。此外，通过分析竞品的目标客户群体，我们可以更准确地识别出理想客户画像。

        ###目标：
        请根据提供的产品描述，并结合对主要竞品的分析，确定产品的目标客户画像。包括但不限于客户的年龄范围、性别、职业、兴趣爱好、消费习惯等关键特征，同时考虑这些因素如何受到竞品影响。

        ###风格：
        采用市场调研分析师的专业写作风格，注重数据支持和逻辑推理，确保内容既具有学术严谨性又易于理解。

        ###语气：
        使用正式且客观的语气，保持专业性和可靠性，避免个人情感色彩，以确保信息传递的准确性和公正性。

        ###受众：
        这份报告面向的是企业的市场营销团队、产品经理及高层决策者，他们需要深入了解目标客户群体的特点，以便制定针对性的营销策略和产品优化方案。

        ###输出：
        请以结构化的分析报告形式呈现结果，包括但不限于以下部分：

        ###产品概述
        主要竞品分析
        目标客户画像定义
        竞品与目标客户画像对比分析
        ###步骤：
        为了实现上述目标，请遵循以下步骤进行研究和撰写：
        #产品概述
        描述]的基本特征，包括核心功能、技术规格、目标用户群体以及市场定位。
        #主要竞品分析
        确定在相同细分市场内的主要竞争对手，列出他们的品牌名称和代表性的竞争产品。
        对每个竞品进行详细的特性分析，特别是它们针对的客户群体及其成功吸引这部分群体的原因。
        #目标客户画像定义
        基于产品描述，初步勾勒出的目标客户画像，包括年龄、性别、职业、收入水平、教育背景、生活方式、消费习惯等关键特征。
        结合市场趋势和个人偏好等因素，进一步细化客户画像。
        #竞品与目标客户画像对比分析
        将的目标客户画像与主要竞品的目标客户画像进行对比分析。
        识别出差异点和相似之处，探讨这些差异和相似性如何影响市场策略的选择。
        考虑如何利用竞品的弱点或市场空白点来优化自己的客户画像和市场定位。
        #推荐市场营销策略
        根据目标客户画像分析的结果，提出针对性的市场营销策略建议，如广告渠道选择、促销活动设计、社交媒体互动等。
        
        审查与修订
        完成初稿后，你需要仔细检查报告的内容准确性、逻辑连贯性和语言表达质量，必要时进行修订以提高报告的质量。
                        
    '''
    


    input=''''
        以下是你需要分析的内容：
        {product_description}

    '''
    template=template.format(product_name=product_name,product_description=product_description)
    input=input.format(product_description=product_description)
    res=llm_base.get_Tongyi_response(template,input)
    return res





if __name__ == '__main__':

    
    product_name="全渠道智能客服平台"
    product_description='''
1. **市场定位**
   - 打造一个集成了多种沟通渠道（电话、短信、邮件、网站在线客服、APP内置客服、社交媒体私信等）的一站式智能客服平台，为企业提供高效、便捷、低成本的客户服务管理工具。
2. **目标用户群体**
   - 中小型企业，尤其是那些正在经历数字化转型，希望以较低成本建立完善的客户服务系统的创业公司或成长型企业；大型企业集团中的客服部门，用于优化内部客服资源配置，提升整体服务效率。
3. **核心功能或价值主张**
   - 实现各渠道消息的集中管理和智能分发，根据客户历史交互记录和当前问题类型自动选择最合适的客服人员或智能应答程序进行处理；提供可视化报表工具，方便管理者实时监控客服工作状态和绩效指标；支持API接口对接，便于与其他业务系统（如CRM、ERP等）集成。
4. **技术实现路径**
   - 基于云计算架构搭建平台框架，采用容器化部署方式保证系统的高可用性和弹性伸缩能力；运用NLP技术对文本内容进行语义理解和分类，结合语音识别技术实现语音转文字功能，再通过深度学习算法训练智能应答模型；利用大数据分析技术挖掘用户行为数据，为智能分发策略提供依据。'''
   
    get_custom_profiling_anaysis(product_name,product_description)

